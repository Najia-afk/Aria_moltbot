{
  "name": "aria-health",
  "version": "1.1.0",
  "description": "System health checks, self-diagnostics, and auto-recovery for Aria services.",
  "author": "Aria Team",
  "tools": [
    {
      "name": "health_check_all",
      "description": "Run health checks on all Aria services and return status summary.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "health_check_service",
      "description": "Check health of a specific service.",
      "parameters": {
        "type": "object",
        "properties": {
          "service": {
            "type": "string",
            "enum": ["database", "ollama", "litellm", "moltbook"],
            "description": "Service to check"
          }
        },
        "required": ["service"]
      }
    },
    {
      "name": "diagnostics_summary",
      "description": "Get overall health ledger summary including anomalies and severity counts.",
      "parameters": {
        "type": "object",
        "properties": {
          "window_minutes": {
            "type": "integer",
            "description": "Time window in minutes for anomaly detection (default 60)",
            "default": 60
          }
        }
      }
    },
    {
      "name": "diagnostics_component",
      "description": "Get health status for a specific component.",
      "parameters": {
        "type": "object",
        "properties": {
          "component": {
            "type": "string",
            "description": "Component name to check (e.g. database, llm, service)"
          }
        },
        "required": ["component"]
      }
    },
    {
      "name": "recovery_evaluate",
      "description": "Evaluate current anomalies and execute matching recovery playbooks.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    },
    {
      "name": "failure_patterns",
      "description": "Get recurring failure patterns for learning and prevention.",
      "parameters": {
        "type": "object",
        "properties": {
          "min_occurrences": {
            "type": "integer",
            "description": "Minimum occurrence count to qualify as a pattern (default 3)",
            "default": 3
          }
        }
      }
    }
  ],
  "run": "python3 /root/.openclaw/workspace/skills/run_skill.py health {{tool}} '{{args_json}}'"
}
