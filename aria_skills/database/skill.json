{
  "name": "aria-database",
  "version": "1.0.0",
  "description": "Query Aria's PostgreSQL database. Execute SQL queries on activity logs, memories, thoughts, and goals.",
  "author": "Aria Team",
  "tools": [
    {
      "name": "fetch_all",
      "description": "Execute a SQL query and return all rows as JSON array.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "SQL SELECT query to execute"
          },
          "args": {
            "type": "array",
            "description": "Query parameters ($1, $2, etc.)",
            "items": { "type": "string" }
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "fetch_one",
      "description": "Execute a SQL query and return first row.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "SQL query to execute"
          },
          "args": {
            "type": "array",
            "description": "Query parameters ($1, $2, etc.)",
            "items": { "type": "string" }
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "execute",
      "description": "Execute a write SQL statement (INSERT, UPDATE, DELETE).",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "SQL statement to execute"
          },
          "args": {
            "type": "array",
            "description": "Query parameters ($1, $2, etc.)",
            "items": { "type": "string" }
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "log_thought",
      "description": "Log a thought to the database.",
      "parameters": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Thought content"
          },
          "category": {
            "type": "string",
            "description": "Category (default: general)"
          }
        },
        "required": ["content"]
      }
    },
    {
      "name": "get_recent_thoughts",
      "description": "Get recent thoughts from database.",
      "parameters": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "description": "Max thoughts to return (default: 10)"
          }
        }
      }
    },
    {
      "name": "store_memory",
      "description": "Store a key-value memory.",
      "parameters": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Memory key"
          },
          "value": {
            "type": "string",
            "description": "Memory value"
          },
          "category": {
            "type": "string",
            "description": "Category (default: general)"
          }
        },
        "required": ["key", "value"]
      }
    },
    {
      "name": "recall_memory",
      "description": "Recall a memory by key.",
      "parameters": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Memory key to recall"
          }
        },
        "required": ["key"]
      }
    },
    {
      "name": "search_memories",
      "description": "Search memories by pattern.",
      "parameters": {
        "type": "object",
        "properties": {
          "pattern": {
            "type": "string",
            "description": "Search pattern (SQL LIKE)"
          },
          "category": {
            "type": "string",
            "description": "Filter by category"
          },
          "limit": {
            "type": "integer",
            "description": "Max results (default: 10)"
          }
        }
      }
    }
  ],
  "run": "python3 /root/.openclaw/workspace/skills/run_skill.py database {{tool}} '{{args_json}}'"
}
